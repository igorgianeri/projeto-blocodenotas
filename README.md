CERNE - Aplicativo de Notas e DesenhosCERNE é um aplicativo de anotações mobile first construído com React Native e Expo. Ele se destaca por permitir a criação de notas de texto e desenhos à mão livre sincronizados em tempo real via Firebase. O design é inspirado em tons de madeira, refletindo o conceito de "cerne" (núcleo).Visão Geral do ProjetoCaracterísticaDescriçãoRecursos ChaveCriação, Edição, Exclusão de Notas de Texto e Desenhos Vetoriais (SVG).PersistênciaFirebase (Authentication, Firestore, Storage).NavegaçãoExpo Router (Roteamento baseado em arquivos).DesignPaleta de cores centralizada com tons de marrom (theme.js).ComplexidadeImplementação de Borracha Inteligente no DrawingCanvas.Tecnologias PrincipaisO projeto utiliza um stack moderno e performático para desenvolvimento mobile:Framework: React Native (v0.81.5)Plataforma: Expo (v54.0.20)Backend: Firebase (Authentication, Firestore, Storage)Componentes: react-native-svg (para desenhos)Estado Local: AsyncStorage (para "lembrar-me")Roteamento: expo-routerEstrutura de ArquivosA organização segue o padrão do Expo Router, onde a lógica da aplicação está embutida na estrutura de rotas.cerne/
├── app/
│   ├── _layout.js              # Configuração do Stack Navigator (Headers, Animações)
│   ├── index.js                # Tela de Boas-vindas/Entrada
│   ├── home.js                 # Tela principal, Guard de Autenticação e Lógica CRUD
│   ├── theme.js                # Paleta de cores centralizada
│   └── components/
│       ├── DrawingCanvas.js    # Canvas de desenho SVG (Complexo)
│       ├── AnimatedInput.js    # Input com label flutuante animado
├── firebase.js                 # Inicialização e Helpers de Autenticação/Firestore
└── app.json                    # Configurações do Expo
Pontos Chave da Implementação1. Sistema de Desenho Avançado (DrawingCanvas.js)O canvas de desenho é o módulo mais complexo e utiliza as seguintes técnicas:PanResponder e useRef: O PanResponder é usado para capturar gestos de toque/arrasto. O uso de Refs (strokesRef, modeRef) é crucial para evitar Closures Stales (captura de estado desatualizado) dentro dos handlers do PanResponder, garantindo performance e precisão.SVG Path: Os traços são salvos como vetores (pontos) e renderizados via <Path> do react-native-svg usando comandos como M (Move) e L (Line).Borracha Inteligente: A função eraseAt implementa um algoritmo que corta o traço existente em novos fragmentos, em vez de simplesmente esconder, garantindo que a borracha funcione como uma ferramenta destrutiva.2. Autenticação e SegurançaInicialização Segura: O firebase.js usa um bloco try/catch (getApp()) para garantir que o Firebase não seja inicializado mais de uma vez.Guards de Rota: O onAuthStateChanged do Firebase é utilizado nas telas home.js e register.js para proteger rotas. Se o usuário estiver deslogado, ele é redirecionado para a tela inicial (router.replace("/")).3. Gerenciamento de DadosCRUD Dual-Mode: A função de salvar em home.js usa um único bloco para realizar Criação ou Edição de uma nota, verificando a presença de um selectedNote.Ordenação Local: As notas são buscadas sem ordenação complexa no Firestore e são ordenadas no cliente (.sort()) para evitar a necessidade de criar índices compostos no banco de dados.Multiplataforma: Confirmações de exclusão utilizam window.confirm para web e Alert.alert para mobile (iOS/Android).Funcionalidades ImplementadasMóduloFuncionalidadeStatusAutenticaçãoLogin/Registro, Guards de Rota✅NotasCriação, Edição, Exclusão de Texto✅DesenhoCriação, Edição (com DrawingCanvas), Borracha Inteligente✅PersistênciaFirestore para notas, AsyncStorage para preferência de "Lembrar-me"✅VisualTema Marrom consistente, Logo SVG dinâmico✅
